{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Button","name","id","buttonClick","onClick","Persons","personsToShow","map","p","number","Notification","message","errorMessage","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showSearch","setShowSearch","setMessage","setErrorMessage","filter","toLowerCase","indexOf","useEffect","personService","initialPersons","event","target","preventDefault","personObject","some","element","window","confirm","find","returnedPerson","setTimeout","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ba4d47f.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({search, handleSearchChange}) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleSearchChange}/>\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Button = ({name, id, buttonClick}) => {\n  return (\n    <button onClick={() => buttonClick(id, name)}>delete</button>\n  )\n}\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Persons = ({personsToShow, buttonClick}) => {\n  return (\n    <ul>\n      {personsToShow.map(p => <li key={p.name}>{p.name} {p.number} <Button name={p.name} id={p.id} buttonClick={buttonClick}/></li>)}\n    </ul>\n  )\n}\n\nexport default Persons","const Notification = ({ message, errorMessage }) => {\n  if (message === null) {\n    if (errorMessage === null) {\n      return null\n    } else {\n      return (\n        <div className=\"error\">\n          {errorMessage}\n        </div>\n      )\n    }\n  } else {\n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n  }\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request =  axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [showSearch, setShowSearch] = useState(false)\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(element => element.name === personObject.name)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(persons.find(p => p.name === personObject.name).id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.name === personObject.name ? returnedPerson : p))\n            setMessage(\n              `Updated ${returnedPerson.name}`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(\n            `Added ${returnedPerson.name}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if(window.confirm(`Delete ${name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage(`Deleted ${name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`Infomation of ${name} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const personsToShow = !showSearch\n    ? persons\n    : persons.filter(p => p.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n    setShowSearch(event.target.value === '' ? false : true)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter search={search} handleSearchChange={handleSearchChange} />\n\n      <h3>add a new</h3>\n      <PersonForm\n        newName = {newName}\n        newNumber = {newNumber}\n        handleNameChange = {handleNameChange}\n        handleNumberChange = {handleNumberChange}\n        addPerson = {addPerson}\n      />\n\n      <h3>Numbers</h3>\n      <Notification message={message} errorMessage={errorMessage}/>\n      <Persons personsToShow={personsToShow} buttonClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
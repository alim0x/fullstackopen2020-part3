{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","handleSearchChange","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Button","name","id","buttonClick","onClick","Persons","personsToShow","map","p","number","Notification","message","errorMessage","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showSearch","setShowSearch","setMessage","setErrorMessage","filter","toLowerCase","indexOf","useEffect","personService","initialPersons","event","target","preventDefault","personObject","some","element","window","confirm","find","returnedPerson","setTimeout","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5cf20135.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({search, handleSearchChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={search} onChange={handleSearchChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Button = ({name, id, buttonClick}) => {\r\n  return (\r\n    <button onClick={() => buttonClick(id, name)}>delete</button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Button from './Button'\r\n\r\nconst Persons = ({personsToShow, buttonClick}) => {\r\n  return (\r\n    <ul>\r\n      {personsToShow.map(p => <li key={p.name}>{p.name} {p.number} <Button name={p.name} id={p.id} buttonClick={buttonClick}/></li>)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons","const Notification = ({ message, errorMessage }) => {\r\n  if (message === null) {\r\n    if (errorMessage === null) {\r\n      return null\r\n    } else {\r\n      return (\r\n        <div className=\"error\">\r\n          {errorMessage}\r\n        </div>\r\n      )\r\n    }\r\n  } else {\r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request =  axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [showSearch, setShowSearch] = useState(false)\r\n  const [message, setMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.some(element => element.name === personObject.name)) {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        personService\r\n          .update(persons.find(p => p.name === personObject.name).id, personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.name === personObject.name ? returnedPerson : p))\r\n            setMessage(\r\n              `Updated ${returnedPerson.name}`\r\n            )\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setMessage(\r\n            `Added ${returnedPerson.name}`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    if(window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n          setMessage(`Deleted ${name}`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(`Infomation of ${name} has already been removed from server`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const personsToShow = !showSearch\r\n    ? persons\r\n    : persons.filter(p => p.name.toLowerCase().indexOf(search.toLowerCase()) !== -1)\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearch(event.target.value)\r\n    setShowSearch(event.target.value === '' ? false : true)\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter search={search} handleSearchChange={handleSearchChange} />\r\n\r\n      <h3>add a new</h3>\r\n      <PersonForm\r\n        newName = {newName}\r\n        newNumber = {newNumber}\r\n        handleNameChange = {handleNameChange}\r\n        handleNumberChange = {handleNumberChange}\r\n        addPerson = {addPerson}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <Notification message={message} errorMessage={errorMessage}/>\r\n      <Persons personsToShow={personsToShow} buttonClick={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}